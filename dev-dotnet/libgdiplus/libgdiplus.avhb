# $Id$
# Maintainer: Qurban Ullah <qurbanullah@avouch.org>
# Contributor: Qurban Ullah <qurbanullah@avouch.org>

pkgname=libgdiplus
pkgver=5.6
pkgrel=1
pkgdesc='Open Source Implementation of the GDI+ API'
arch=('x86_64')
license=('MPL' 'LGPL')
url='http://www.mono-project.com/docs/gui/libgdiplus/'
depends=('libtiff' 'libjpeg' 'libpng' 'cairo' 'giflib' 'glib2' 'libexif' 'zlib' 'freetype2')
groups=('grafix')
repo=('core')
source=(${pkgname}-${pkgver}.tar.gz::https://github.com/mono/libgdiplus/archive/${pkgver}.tar.gz)
sha256sums=('6a75e4a476695cd6a1475fd6b989423ecf73978fd757673669771d8a6e13f756')
sha512sums=('15487b170e3dcca63573da2360788c5d235fc214bfbfa38b041fd3f075354589d5dcf93ee1cc9f242515f3430af43324f39aa1b51827d3f004b526fc524507df')

prepare() {
	cd "${srcdir}/${pkgname}-${pkgver}"
  autoreconf -fiv
}

build() {
	cd "${srcdir}/${pkgname}-${pkgver}"
	
	export LDFLAGS="$LDFLAGS -lX11"
	./configure --prefix=/usr --with-cairo=system
	make ${MAKEFLAGS}
}

package() {
	cd "${srcdir}/${pkgname}-${pkgver}"
	make DESTDIR="$pkgdir" install
}
